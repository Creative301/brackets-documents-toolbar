<div class="documents-toolbar_modal modal">
    <div class="modal-header">
        <h1 class="dialog-title">Documents toolbar settings</h1>
    </div>
    <div class="modal-body">
        <div class="rule-set" data-bind="foreach: rules">
            <div class="dt-rule" data-bind="click: $parent.onSelectRule, css:{selected: $data === $parent.selectedRule()}">
                <div class="dt-rule_background" data-bind="style:{background: background}"></div>
                <div class="dt-rule_foreground" data-bind="style:{background: color}"></div>
                <div class="dt-rule_name" data-bind="text: $parent.getCaption($data)"></div>
            </div>
        </div>
        <div class="rule-options" data-bind="with: selectedRule">
            <div class="_row">
                <span>Apply to</span>
                <input data-bind="value: name"/>
            </div>
            <div class="_row">
                <input type="checkbox" data-bind="checked: forThisProjectOnly"/>
                <span>Use this rule only for specific project</span>
                <div data-bind="visible: project() !== null">
                    <span>Project</span>
                    <input data-bind="value: project" />
                </div>
            </div>
            <div class="_row">
                <span>Background:</span>
                <div class="colorpicker" data-bind="colorpicker: background"></div>
                <span>Color:</span>
                <div class="colorpicker" data-bind="colorpicker: color"></div>
            </div>
            <div class="_row tab-preview" data-bind="style:{color: color, background: background}">
                <p>Preview</p>
            </div>
        </div>
        <div class="buttons-set">
            <button class="btn" data-bind="click: addNewRule">Add rule</button>
            <button class="btn" data-bind="click: removeRule, enable: selectedRule">Remove</button>
        </div>
    </div>
    <div class="modal-footer">
        <button class="dialog-button btn primary" data-bind="click: onClose">Close</button>
    </div>
</div>
